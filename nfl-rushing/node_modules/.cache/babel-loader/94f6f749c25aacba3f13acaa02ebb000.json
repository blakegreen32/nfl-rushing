{"ast":null,"code":"import _regeneratorRuntime from\"/Users/blakegreen/nfl-rushing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/blakegreen/nfl-rushing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/blakegreen/nfl-rushing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import{Route}from'react-router';import NFLPlayers from'./components/NFLPlayers';import Pagination from'./components/Pagination';import SearchBox from'./components/SearchBox';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),nflPlayers=_useState2[0],setNflPlayers=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchTerm=_useState4[0],setSearchTerm=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),currentPage=_useState6[0],setCurrentPage=_useState6[1];var _useState7=useState(500),_useState8=_slicedToArray(_useState7,1),playersPerPage=_useState8[0];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),loading=_useState10[0],setLoading=_useState10[1];useEffect(function(){var getNflPlayers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var nflPlayersFromServer;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchNflPlayers();case 2:nflPlayersFromServer=_context.sent;setNflPlayers(nflPlayersFromServer);setLoading(false);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getNflPlayers(){return _ref.apply(this,arguments);};}();getNflPlayers();},[]);// Fetch Tasks\nvar fetchNflPlayers=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading(true);_context2.next=3;return fetch('http://localhost:8000/nflPlayers',{headers:{'Content-Type':'application/json','Accept':'application/json'}});case 3:res=_context2.sent;_context2.next=6;return res.json();case 6:data=_context2.sent;return _context2.abrupt(\"return\",data);case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchNflPlayers(){return _ref2.apply(this,arguments);};}();function filterNflPlayers(nflPlayers){return nflPlayers.filter(function(val){return val.Player.toLowerCase().includes(searchTerm.toString().toLowerCase());});}function convertArrayToCSV(args){var result,ctr,keys,columnDelimiter,lineDelimiter,data;data=args.data||null;if(data==null||!data.length){return null;}columnDelimiter=args.columnDelimiter||',';lineDelimiter=args.lineDelimiter||'\\n';keys=Object.keys(data[0]);result='';result+=keys.join(columnDelimiter);result+=lineDelimiter;data.forEach(function(item){ctr=0;keys.forEach(function(key){if(ctr>0)result+=columnDelimiter;result+=item[key];ctr++;});result+=lineDelimiter;});return result;}function exportCsv(nflPlayers){var data,filename,link;var csv=convertArrayToCSV({data:nflPlayers});if(csv==null)return;filename=nflPlayers.filename||'nfl_players.csv';if(!csv.match(/^data:text\\/csv/i)){csv='data:text/csv;charset=utf-8,'+csv;}data=encodeURI(csv);link=document.createElement('a');link.setAttribute('href',data);link.setAttribute('download',filename);link.click();}var indexOfLastPlayer=currentPage*playersPerPage;var indexOfFirstPlayer=indexOfLastPlayer-playersPerPage;var currentPlayers=nflPlayers.slice(indexOfFirstPlayer,indexOfLastPlayer);var paginate=function paginate(pageNumber){return setCurrentPage(pageNumber);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"NFL Player Statistics\"}),/*#__PURE__*/_jsx(SearchBox,{placeholder:\"Search Players...\",handleChange:function handleChange(e){return setSearchTerm(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return exportCsv(filterNflPlayers(currentPlayers));},children:\"Export CSV\"}),/*#__PURE__*/_jsx(Pagination,{playersPerPage:playersPerPage,totalPlayers:nflPlayers.length,paginate:paginate}),nflPlayers.length>0?/*#__PURE__*/_jsx(NFLPlayers,{nflPlayers:filterNflPlayers(currentPlayers),loading:loading}):/*#__PURE__*/_jsx(\"div\",{className:\"marginTop\",children:\"No NFL Players\"})]});};export default App;","map":{"version":3,"sources":["/Users/blakegreen/nfl-rushing/src/App.js"],"names":["useState","useEffect","Route","NFLPlayers","Pagination","SearchBox","App","nflPlayers","setNflPlayers","searchTerm","setSearchTerm","currentPage","setCurrentPage","playersPerPage","loading","setLoading","getNflPlayers","fetchNflPlayers","nflPlayersFromServer","fetch","headers","res","json","data","filterNflPlayers","filter","val","Player","toLowerCase","includes","toString","convertArrayToCSV","args","result","ctr","keys","columnDelimiter","lineDelimiter","length","Object","join","forEach","item","key","exportCsv","filename","link","csv","match","encodeURI","document","createElement","setAttribute","click","indexOfLastPlayer","indexOfFirstPlayer","currentPlayers","slice","paginate","pageNumber","e","target","value"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\nimport { Route } from 'react-router'\nimport NFLPlayers from './components/NFLPlayers'\nimport Pagination from './components/Pagination'\nimport SearchBox from './components/SearchBox'\n\nconst App = () => {\n  const [nflPlayers, setNflPlayers] = useState([])\n  const [searchTerm, setSearchTerm] = useState('')\n  const [currentPage, setCurrentPage] = useState(1)\n  const [playersPerPage] = useState(500)\n  const [loading, setLoading] = useState(false)\n\n\n  useEffect(() => {\n    const getNflPlayers = async () => {\n      const nflPlayersFromServer = await fetchNflPlayers()\n      setNflPlayers(nflPlayersFromServer)\n      setLoading(false)\n    }\n\n    getNflPlayers() \n  }, [])\n\n  // Fetch Tasks\n  const fetchNflPlayers = async () => {\n    setLoading(true)\n    const res = await fetch('http://localhost:8000/nflPlayers', {\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    })\n    const data = await res.json()\n    return data \n  }\n\n  function filterNflPlayers(nflPlayers) {\n    return nflPlayers.filter((val) => val.Player.toLowerCase().includes(searchTerm.toString().toLowerCase()))\n  }\n\n  function convertArrayToCSV( args ) {\n    var result, ctr, keys, columnDelimiter, lineDelimiter, data;\n    data = args.data || null;\n    if ( data == null || ! data.length ) {\n      return null;\n    }\n\n    columnDelimiter = args.columnDelimiter || ',';\n    lineDelimiter = args.lineDelimiter || '\\n';\n\n    keys = Object.keys(data[0]);\n    result = '';\n    result += keys.join(columnDelimiter);\n    result += lineDelimiter;\n\n    data.forEach(function(item) {\n      ctr = 0;\n      keys.forEach(function(key) {\n        if (ctr > 0) result += columnDelimiter;\n        result += item[key];\n        ctr++;\n      });\n      result += lineDelimiter;\n    });\n\n    return result;\n  }\n\n  function exportCsv(nflPlayers) {\n    var data, filename, link;\n    var csv = convertArrayToCSV({\n      data: nflPlayers\n    });\n\n    if (csv == null) return;\n    filename = nflPlayers.filename || 'nfl_players.csv';\n\n    if ( !csv.match(/^data:text\\/csv/i )) {\n      csv = 'data:text/csv;charset=utf-8,' + csv;\n    }\n    data = encodeURI(csv);\n\n    link = document.createElement('a');\n    link.setAttribute('href', data);\n    link.setAttribute('download', filename);\n    link.click();\n  }\n\n  const indexOfLastPlayer = currentPage * playersPerPage;\n  const indexOfFirstPlayer = indexOfLastPlayer - playersPerPage;\n  const currentPlayers = nflPlayers.slice(indexOfFirstPlayer, indexOfLastPlayer);\n\n  const paginate = (pageNumber) => setCurrentPage(pageNumber);\n\n  return (\n    <div className='container'>\n      <h1>NFL Player Statistics</h1>\n      <SearchBox placeholder=\"Search Players...\" handleChange={(e) => setSearchTerm(e.target.value)} />\n      <button onClick= {() => exportCsv(filterNflPlayers(currentPlayers))}>Export CSV</button>\n      <Pagination playersPerPage={playersPerPage} totalPlayers={nflPlayers.length} paginate={paginate} />\n      {nflPlayers.length > 0 ? (\n        <NFLPlayers nflPlayers={filterNflPlayers(currentPlayers)} loading={loading}/>\n      ):<div className=\"marginTop\">No NFL Players</div>}\n    </div>\n  )\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}